#Enchant.lic
=begin


=end

module Enchanting

  def self.suffuse_estimate
    result = dothistimeout 'suffuse estimate', 5, /The service does not require any additional suffused energy./
    if result =~ /The service does not require any additional suffused energy./
      respond 'It is safe to cast!'
      Enchanting::cast_enchant
    else
      respond 'It is NOT safe to cast!'
      Script.pause('enchant')
    end
  end

  def self.cast_enchant
    item = GameObj.right_hand.noun
    fput 'prepare 925'
    result = dothistimeout "channel #{item}", 5, /Success!/
    if result =~ /Success!/
      waitrt?
      respond 'Enchant was successful!'
      Enchanting::check_resources
      fput "recall #{GameObj.right_hand.noun}"
    end
  end

  def self.check_resources
    fput 'sense'
    fput 'resource'
  end

Enchanting::check_resources
Enchanting::suffuse_estimate

end #End of module

