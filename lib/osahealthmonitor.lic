loop{
wait_until {XMLData.injuries.any?{|key,value| value["wound"] > 0} or Spell[9699].active?}
	if Spell[9699].active?
		if Spell[1607].known? && Spell[1607].affordable?
			Spell[1607].cast
		else
			do_client ";chat to #{UserVars.osacrew["medicalofficer"]} surge"
		end
		wait_until {!Spell[9699].active?}
	else
		do_client ";chat on #{UserVars.osacrew["crew"]} I Am Injured!"
		wait_until {!XMLData.injuries.any?{|key,value,| value["wound"] > 0}}
	end
}