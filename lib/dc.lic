# Initialize total damage counter
total_damage = 0

# cast Dark Catalyst spell
fput "incant 719"

# Loop through the game output after casting the spell
while line = get
  # Look for lines that contain damage points (e.g., "... hits for XX points of damage!")
  if line =~ /(\d+) points? of damage/
    # Add the damage value to total_damage
    total_damage += $1.to_i
  end

  # Break out of the loop when the cast is complete (can adjust based on exact output)
  break if line =~ /Cast Roundtime/i
end

# Output the total damage to the game
echo "Total damage from Dark Catalyst: #{total_damage}"
